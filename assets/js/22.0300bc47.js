(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{375:function(e,r,a){"use strict";a.r(r);var t=a(42),v=Object(t.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"基础模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础模块"}},[e._v("#")]),e._v(" 基础模块")]),e._v(" "),a("h2",{attrs:{id:"event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event"}},[e._v("#")]),e._v(" event")]),e._v(" "),a("ol",[a("li",[e._v("同步触发、忽略返回值")]),e._v(" "),a("li",[e._v("应该始终为eventEmitter注册error事件")])]),e._v(" "),a("h2",{attrs:{id:"buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer"}},[e._v("#")]),e._v(" buffer")]),e._v(" "),a("h3",{attrs:{id:"node-js-中-buffer-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js-中-buffer-的区别"}},[e._v("#")]),e._v(" node & js 中 buffer 的区别")]),e._v(" "),a("blockquote",[a("p",[a("code",[e._v("ArrayBuffer")]),e._v("对象代表原始的二进制数据 "),a("code",[e._v("TypedArray")]),e._v("视图用来读写简单类型的二进制数据（ArrayBuffer），"),a("code",[e._v("DataView")]),e._v("视图用来读写复杂类型的二进制数据(ArrayBuffer)。 Node中的"),a("code",[e._v("Buffer")]),e._v("类是以更优化和更适合Nodejs的方式实现了"),a("code",[e._v("Uint8Array")]),e._v(" API，意思就是"),a("code",[e._v("Buffer")]),e._v("类其实是"),a("code",[e._v("TypedArray(Uint8Array)")]),e._v("的nodejs实现。")])]),e._v(" "),a("h3",{attrs:{id:"buffer-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-cache"}},[e._v("#")]),e._v(" buffer & cache")]),e._v(" "),a("p",[e._v("buffer的目的是起到流量整形的作用，减少短期内突发I/O的影响。")]),e._v(" "),a("p",[e._v("cache是处理系统两端处理速度不匹配的情况，比如磁盘、内存、cpu处理速度不一样，所以会有各种缓存技术。cache中的数据是可以重复获取的。")]),e._v(" "),a("h3",{attrs:{id:"创建buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建buffer"}},[e._v("#")]),e._v(" 创建buffer")]),e._v(" "),a("ol",[a("li",[e._v("Blob类\n"),a("ol",[a("li",[e._v("Blob 封装了不可变数据，可以在多个工作线程中安全地共享，v15新增")]),e._v(" "),a("li",[e._v("使用 "),a("code",[e._v("new buffer.Blob(source, opts)")]),e._v(" 创建")])])]),e._v(" "),a("li",[e._v("Buffer类\n"),a("ol",[a("li",[a("code",[e._v("alloc(size, fill = 0, encoding = 'utf8')")])]),e._v(" "),a("li",[a("code",[e._v("allocUnsafe(size)")])]),e._v(" "),a("li",[a("code",[e._v("allocUnsafeSlow(size)")])]),e._v(" "),a("li",[a("code",[e._v("from()")]),e._v(" "),a("ol",[a("li",[e._v("array、arrayBuffer、buffer、object、string")])])])])]),e._v(" "),a("li",[e._v("字符编码默认使用"),a("code",[e._v("utf8")]),e._v(" "),a("ol",[a("li",[e._v("支持"),a("code",[e._v("utf8 utf16le latin1 base64 base64url hex ascii latin1 binary")])])])]),e._v(" "),a("li",[e._v("使用 "),a("code",[e._v("for...of")]),e._v(" 遍历buffer")])]),e._v(" "),a("h3",{attrs:{id:"读取中文字符串-按照固定长度分割-buffer-乱码问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读取中文字符串-按照固定长度分割-buffer-乱码问题"}},[e._v("#")]),e._v(" 读取中文字符串，按照固定长度分割 buffer 乱码问题")]),e._v(" "),a("p",[e._v("中文字符在"),a("code",[e._v("utf8")]),e._v("中占3个字节。")]),e._v(" "),a("p",[e._v("需要设置stream的编码方式为"),a("code",[e._v("utf8")]),e._v("。通过"),a("code",[e._v("setEncoding")]),e._v(" 设置的buffer，在被处理的时候已经转为中文字符串了。")]),e._v(" "),a("h3",{attrs:{id:"buffer内存分配原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer内存分配原理"}},[e._v("#")]),e._v(" buffer内存分配原理")])])}),[],!1,null,null,null);r.default=v.exports}}]);